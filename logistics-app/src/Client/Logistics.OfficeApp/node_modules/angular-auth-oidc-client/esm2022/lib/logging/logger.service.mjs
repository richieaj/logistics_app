import { Injectable, inject } from '@angular/core';
import { AbstractLoggerService } from './abstract-logger.service';
import { LogLevel } from './log-level';
import * as i0 from "@angular/core";
export class LoggerService {
    constructor() {
        this.abstractLoggerService = inject(AbstractLoggerService);
    }
    logError(configuration, message, ...args) {
        if (this.loggingIsTurnedOff(configuration)) {
            return;
        }
        const { configId } = configuration;
        const messageToLog = this.isObject(message)
            ? JSON.stringify(message)
            : message;
        if (!!args && !!args.length) {
            this.abstractLoggerService.logError(`[ERROR] ${configId} - ${messageToLog}`, ...args);
        }
        else {
            this.abstractLoggerService.logError(`[ERROR] ${configId} - ${messageToLog}`);
        }
    }
    logWarning(configuration, message, ...args) {
        if (!this.logLevelIsSet(configuration)) {
            return;
        }
        if (this.loggingIsTurnedOff(configuration)) {
            return;
        }
        if (!this.currentLogLevelIsEqualOrSmallerThan(configuration, LogLevel.Warn)) {
            return;
        }
        const { configId } = configuration;
        const messageToLog = this.isObject(message)
            ? JSON.stringify(message)
            : message;
        if (!!args && !!args.length) {
            this.abstractLoggerService.logWarning(`[WARN] ${configId} - ${messageToLog}`, ...args);
        }
        else {
            this.abstractLoggerService.logWarning(`[WARN] ${configId} - ${messageToLog}`);
        }
    }
    logDebug(configuration, message, ...args) {
        if (!configuration) {
            return;
        }
        if (!this.logLevelIsSet(configuration)) {
            return;
        }
        if (this.loggingIsTurnedOff(configuration)) {
            return;
        }
        if (!this.currentLogLevelIsEqualOrSmallerThan(configuration, LogLevel.Debug)) {
            return;
        }
        const { configId } = configuration;
        const messageToLog = this.isObject(message)
            ? JSON.stringify(message)
            : message;
        if (!!args && !!args.length) {
            this.abstractLoggerService.logDebug(`[DEBUG] ${configId} - ${messageToLog}`, ...args);
        }
        else {
            this.abstractLoggerService.logDebug(`[DEBUG] ${configId} - ${messageToLog}`);
        }
    }
    currentLogLevelIsEqualOrSmallerThan(configuration, logLevelToCompare) {
        const { logLevel } = configuration || {};
        if (!logLevel) {
            return false;
        }
        return logLevel <= logLevelToCompare;
    }
    logLevelIsSet(configuration) {
        const { logLevel } = configuration || {};
        if (logLevel === null) {
            return false;
        }
        return logLevel !== undefined;
    }
    loggingIsTurnedOff(configuration) {
        const { logLevel } = configuration || {};
        return logLevel === LogLevel.None;
    }
    isObject(possibleObject) {
        return Object.prototype.toString.call(possibleObject) === '[object Object]';
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "18.0.1", ngImport: i0, type: LoggerService, deps: [], target: i0.ɵɵFactoryTarget.Injectable }); }
    static { this.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: "12.0.0", version: "18.0.1", ngImport: i0, type: LoggerService, providedIn: 'root' }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "18.0.1", ngImport: i0, type: LoggerService, decorators: [{
            type: Injectable,
            args: [{ providedIn: 'root' }]
        }] });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibG9nZ2VyLnNlcnZpY2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9hbmd1bGFyLWF1dGgtb2lkYy1jbGllbnQvc3JjL2xpYi9sb2dnaW5nL2xvZ2dlci5zZXJ2aWNlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBRW5ELE9BQU8sRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDJCQUEyQixDQUFDO0FBQ2xFLE9BQU8sRUFBRSxRQUFRLEVBQUUsTUFBTSxhQUFhLENBQUM7O0FBR3ZDLE1BQU0sT0FBTyxhQUFhO0lBRDFCO1FBRW1CLDBCQUFxQixHQUFHLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxDQUFDO0tBd0l4RTtJQXRJQyxRQUFRLENBQ04sYUFBa0MsRUFDbEMsT0FBc0IsRUFDdEIsR0FBRyxJQUFXO1FBRWQsSUFBSSxJQUFJLENBQUMsa0JBQWtCLENBQUMsYUFBYSxDQUFDLEVBQUUsQ0FBQztZQUMzQyxPQUFPO1FBQ1QsQ0FBQztRQUVELE1BQU0sRUFBRSxRQUFRLEVBQUUsR0FBRyxhQUFhLENBQUM7UUFDbkMsTUFBTSxZQUFZLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUM7WUFDekMsQ0FBQyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsT0FBTyxDQUFDO1lBQ3pCLENBQUMsQ0FBQyxPQUFPLENBQUM7UUFFWixJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztZQUM1QixJQUFJLENBQUMscUJBQXFCLENBQUMsUUFBUSxDQUNqQyxXQUFXLFFBQVEsTUFBTSxZQUFZLEVBQUUsRUFDdkMsR0FBRyxJQUFJLENBQ1IsQ0FBQztRQUNKLENBQUM7YUFBTSxDQUFDO1lBQ04sSUFBSSxDQUFDLHFCQUFxQixDQUFDLFFBQVEsQ0FDakMsV0FBVyxRQUFR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QWEsSUFBSSxFQUFFLENBQUM7UUFFekMsSUFBSSxRQUFRLEtBQUssSUFBSSxFQUFFLENBQUM7WUFDdEIsT0FBTyxLQUFLLENBQUM7UUFDZixDQUFDO1FBRUQsT0FBTyxRQUFRLEtBQUssU0FBUyxDQUFDO0lBQ2hDLENBQUM7SUFFTyxrQkFBa0IsQ0FBQyxhQUFrQztRQUMzRCxNQUFNLEVBQUUsUUFBUSxFQUFFLEdBQUcsYUFBYSxJQUFJLEVBQUUsQ0FBQztRQUV6QyxPQUFPLFFBQVEsS0FBSyxRQUFRLENBQUMsSUFBSSxDQUFDO0lBQ3BDLENBQUM7SUFFTyxRQUFRLENBQUMsY0FBbUI7UUFDbEMsT0FBTyxNQUFNLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLEtBQUssaUJBQWlCLENBQUM7SUFDOUUsQ0FBQzs4R0F4SVUsYUFBYTtrSEFBYixhQUFhLGNBREEsTUFBTTs7MkZBQ25CLGFBQWE7a0JBRHpCLFVBQVU7bUJBQUMsRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5qZWN0YWJsZSwgaW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPcGVuSWRDb25maWd1cmF0aW9uIH0gZnJvbSAnLi4vY29uZmlnL29wZW5pZC1jb25maWd1cmF0aW9uJztcbmltcG9ydCB7IEFic3RyYWN0TG9nZ2VyU2VydmljZSB9IGZyb20gJy4vYWJzdHJhY3QtbG9nZ2VyLnNlcnZpY2UnO1xuaW1wb3J0IHsgTG9nTGV2ZWwgfSBmcm9tICcuL2xvZy1sZXZlbCc7XG5cbkBJbmplY3RhYmxlKHsgcHJvdmlkZWRJbjogJ3Jvb3QnIH0pXG5leHBvcnQgY2xhc3MgTG9nZ2VyU2VydmljZSB7XG4gIHByaXZhdGUgcmVhZG9ubHkgYWJzdHJhY3RMb2dnZXJTZXJ2aWNlID0gaW5qZWN0KEFic3RyYWN0TG9nZ2VyU2VydmljZSk7XG5cbiAgbG9nRXJyb3IoXG4gICAgY29uZmlndXJhdGlvbjogT3BlbklkQ29uZmlndXJhdGlvbixcbiAgICBtZXNzYWdlOiBzdHJpbmd8b2JqZWN0LFxuICAgIC4uLmFyZ3M6IGFueVtdXG4gICk6IHZvaWQge1xuICAgIGlmICh0aGlzLmxvZ2dpbmdJc1R1cm5lZE9mZihjb25maWd1cmF0aW9uKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNvbnN0IHsgY29uZmlnSWQgfSA9IGNvbmZpZ3VyYXRpb247XG4gICAgY29uc3QgbWVzc2FnZVRvTG9nID0gdGhpcy5pc09iamVjdChtZXNzYWdlKVxuICAgICAgPyBKU09OLnN0cmluZ2lmeShtZXNzYWdlKVxuICAgICAgOiBtZXNzYWdlO1xuXG4gICAgaWYgKCEhYXJncyAmJiAhIWFyZ3MubGVuZ3RoKSB7XG4gICAgICB0aGlzLmFic3RyYWN0TG9nZ2VyU2VydmljZS5sb2dFcnJvcihcbiAgICAgICAgYFtFUlJPUl0gJHtjb25maWdJZH0gLSAke21lc3NhZ2VUb0xvZ31gLFxuICAgICAgICAuLi5hcmdzXG4gICAgICApO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFic3RyYWN0TG9nZ2VyU2VydmljZS5sb2dFcnJvcihcbiAgICAgICAgYFtFUlJPUl0gJHtjb25maWdJZH0gLSAke21lc3NhZ2VUb0xvZ31gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGxvZ1dhcm5pbmcoXG4gICAgY29uZmlndXJhdGlvbjogT3BlbklkQ29uZmlndXJhdGlvbixcbiAgICBtZXNzYWdlOiBzdHJpbmd8b2JqZWN0LFxuICAgIC4uLmFyZ3M6IGFueVtdXG4gICk6IHZvaWQge1xuICAgIGlmICghdGhpcy5sb2dMZXZlbElzU2V0KGNvbmZpZ3VyYXRpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMubG9nZ2luZ0lzVHVybmVkT2ZmKGNvbmZpZ3VyYXRpb24pKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKFxuICAgICAgIXRoaXMuY3VycmVudExvZ0xldmVsSXNFcXVhbE9yU21hbGxlclRoYW4oY29uZmlndXJhdGlvbiwgTG9nTGV2ZWwuV2FybilcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNvbmZpZ0lkIH0gPSBjb25maWd1cmF0aW9uO1xuICAgIGNvbnN0IG1lc3NhZ2VUb0xvZyA9IHRoaXMuaXNPYmplY3QobWVzc2FnZSlcbiAgICAgID8gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSlcbiAgICAgIDogbWVzc2FnZTtcblxuICAgIGlmICghIWFyZ3MgJiYgISFhcmdzLmxlbmd0aCkge1xuICAgICAgdGhpcy5hYnN0cmFjdExvZ2dlclNlcnZpY2UubG9nV2FybmluZyhcbiAgICAgICAgYFtXQVJOXSAke2NvbmZpZ0lkfSAtICR7bWVzc2FnZVRvTG9nfWAsXG4gICAgICAgIC4uLmFyZ3NcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuYWJzdHJhY3RMb2dnZXJTZXJ2aWNlLmxvZ1dhcm5pbmcoXG4gICAgICAgIGBbV0FSTl0gJHtjb25maWdJZH0gLSAke21lc3NhZ2VUb0xvZ31gXG4gICAgICApO1xuICAgIH1cbiAgfVxuXG4gIGxvZ0RlYnVnKFxuICAgIGNvbmZpZ3VyYXRpb246IE9wZW5JZENvbmZpZ3VyYXRpb24gfCBudWxsLFxuICAgIG1lc3NhZ2U6IHN0cmluZ3xvYmplY3QsXG4gICAgLi4uYXJnczogYW55W11cbiAgKTogdm9pZCB7XG4gICAgaWYgKCFjb25maWd1cmF0aW9uKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmxvZ0xldmVsSXNTZXQoY29uZmlndXJhdGlvbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5sb2dnaW5nSXNUdXJuZWRPZmYoY29uZmlndXJhdGlvbikpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICAhdGhpcy5jdXJyZW50TG9nTGV2ZWxJc0VxdWFsT3JTbWFsbGVyVGhhbihjb25maWd1cmF0aW9uLCBMb2dMZXZlbC5EZWJ1ZylcbiAgICApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCB7IGNvbmZpZ0lkIH0gPSBjb25maWd1cmF0aW9uO1xuICAgIGNvbnN0IG1lc3NhZ2VUb0xvZyA9IHRoaXMuaXNPYmplY3QobWVzc2FnZSlcbiAgICAgID8gSlNPTi5zdHJpbmdpZnkobWVzc2FnZSlcbiAgICAgIDogbWVzc2FnZTtcblxuICAgIGlmICghIWFyZ3MgJiYgISFhcmdzLmxlbmd0aCkge1xuICAgICAgdGhpcy5hYnN0cmFjdExvZ2dlclNlcnZpY2UubG9nRGVidWcoXG4gICAgICAgIGBbREVCVUddICR7Y29uZmlnSWR9IC0gJHttZXNzYWdlVG9Mb2d9YCxcbiAgICAgICAgLi4uYXJnc1xuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hYnN0cmFjdExvZ2dlclNlcnZpY2UubG9nRGVidWcoXG4gICAgICAgIGBbREVCVUddICR7Y29uZmlnSWR9IC0gJHttZXNzYWdlVG9Mb2d9YFxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICBwcml2YXRlIGN1cnJlbnRMb2dMZXZlbElzRXF1YWxPclNtYWxsZXJUaGFuKFxuICAgIGNvbmZpZ3VyYXRpb246IE9wZW5JZENvbmZpZ3VyYXRpb24sXG4gICAgbG9nTGV2ZWxUb0NvbXBhcmU6IExvZ0xldmVsXG4gICk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHsgbG9nTGV2ZWwgfSA9IGNvbmZpZ3VyYXRpb24gfHwge307XG5cbiAgICBpZiAoIWxvZ0xldmVsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvZ0xldmVsIDw9IGxvZ0xldmVsVG9Db21wYXJlO1xuICB9XG5cbiAgcHJpdmF0ZSBsb2dMZXZlbElzU2V0KGNvbmZpZ3VyYXRpb246IE9wZW5JZENvbmZpZ3VyYXRpb24pOiBib29sZWFuIHtcbiAgICBjb25zdCB7IGxvZ0xldmVsIH0gPSBjb25maWd1cmF0aW9uIHx8IHt9O1xuXG4gICAgaWYgKGxvZ0xldmVsID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgcmV0dXJuIGxvZ0xldmVsICE9PSB1bmRlZmluZWQ7XG4gIH1cblxuICBwcml2YXRlIGxvZ2dpbmdJc1R1cm5lZE9mZihjb25maWd1cmF0aW9uOiBPcGVuSWRDb25maWd1cmF0aW9uKTogYm9vbGVhbiB7XG4gICAgY29uc3QgeyBsb2dMZXZlbCB9ID0gY29uZmlndXJhdGlvbiB8fCB7fTtcblxuICAgIHJldHVybiBsb2dMZXZlbCA9PT0gTG9nTGV2ZWwuTm9uZTtcbiAgfVxuXG4gIHByaXZhdGUgaXNPYmplY3QocG9zc2libGVPYmplY3Q6IGFueSk6IGJvb2xlYW4ge1xuICAgIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwocG9zc2libGVPYmplY3QpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgfVxufVxuIl19